# USDZ Download Test

USDZ Download TestëŠ” ì—¬ëŸ¬ ê°œì˜ USDZ íŒŒì¼ì„ ë„¤íŠ¸ì›Œí¬ì—ì„œ ë‚´ë ¤ë°›ì•„ RealityKitì˜ `Entity`ë¡œ ë¡œë“œ(ë Œë” ì¤€ë¹„)í•˜ëŠ” ì „ì²´ íë¦„ì„ ì¸¡ì •í•˜ê³  ì‹œê°í™”í•˜ê¸° ìœ„í•œ ìƒ˜í”Œ í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤. ê° íŒŒì¼ì— ëŒ€í•´ ë‹¤ìš´ë¡œë“œ ì‹œì‘/ì¢…ë£Œ ì‹œê°„, ë Œë” ì‹œì‘/ì¢…ë£Œ ì‹œê°„, íŒŒì¼ í¬ê¸° ë“±ì„ ê¸°ë¡í•˜ê³ , ì „ì²´ ë°°ì¹˜ ë‹¤ìš´ë¡œë“œì˜ ì´ ì†Œìš” ì‹œê°„ê³¼ ì§„í–‰ë¥ ì„ ì œê³µí•©ë‹ˆë‹¤.

ë³¸ ìƒ˜í”Œì€ visionOSë¥¼ ì£¼ìš” íƒ€ê²Ÿìœ¼ë¡œ í•˜ë©°, RealityKit ê¸°ë°˜ì˜ ì—”í‹°í‹° ë¡œë“œ íë¦„ì„ ì–‘ í”Œë«í¼ì—ì„œ ë™ì¼í•œ íŒ¨í„´ìœ¼ë¡œ ê²€ì¦í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 
ë³¸ í”„ë¡œì íŠ¸ì—ëŠ” Xcode Intelligence (GPT)ê°€ ì‚¬ìš©ë˜ì—ˆìŠµë‹ˆë‹¤.

## ì£¼ìš” ê¸°ëŠ¥
- **ì§€ëŠ¥í˜• ë™ì‹œì„± ì œì–´**: ì‹œìŠ¤í…œ ë¦¬ì†ŒìŠ¤ë¥¼ ì‹¤ì‹œê°„ ë¶„ì„í•˜ì—¬ ìµœì ì˜ ë™ì‹œ ë‹¤ìš´ë¡œë“œ ìˆ˜ ìë™ ê²°ì •
- **ë‹¤ì¤‘ ë‹¤ìš´ë¡œë“œ ì „ëµ**: ìˆœì°¨, ì œí•œì  ë™ì‹œ, ë¬´ì œí•œ ë™ì‹œ, ìŠ¤ë§ˆíŠ¸ ë‹¤ìš´ë¡œë“œ ë“± ë‹¤ì–‘í•œ ì˜µì…˜
- **ì‹¤ì‹œê°„ ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§**: ë„¤íŠ¸ì›Œí¬ ì†ë„, CPU ì‚¬ìš©ë¥ , ë©”ëª¨ë¦¬ ì••ë°• ìƒíƒœ ì¶”ì 
- **íŒŒì¼ë³„ ì„¸ë¶€ ì¸¡ì •**: ë‹¤ìš´ë¡œë“œ/ë Œë”ë§ ì‹œê°„, íŒŒì¼ í¬ê¸°, ì—ëŸ¬ ì²˜ë¦¬ ë° ì¬ì‹œë„ ë¡œì§
- **ê³ ì„±ëŠ¥ URLSession**: HTTP/2, ë©€í‹°íŒ¨ìŠ¤ ë„¤íŠ¸ì›Œí‚¹, ì••ì¶• ìµœì í™”
- **ë‹¤ìš´ë¡œë“œ/ë Œë” ì™„ë£Œ ì•Œë¦¼(Notification)**: ê°œë³„ íŒŒì¼ ë° ì „ì²´ ë°°ì¹˜ ì™„ë£Œ ì´ë²¤íŠ¸
- **RealityKit `Entity` ì¦‰ì‹œ ì‚¬ìš©**: ë¡œë“œ ì™„ë£Œëœ ì—”í‹°í‹° ëª©ë¡ ì‹¤ì‹œê°„ ì œê³µ

## ğŸ§  ìŠ¤ë§ˆíŠ¸ ë‹¤ìš´ë¡œë“œ ì‹œìŠ¤í…œ

### ê¶Œì¥ ë™ì‹œì„± ê³„ì‚° ê³µì‹
```
ìµœì¢… ë™ì‹œì„± = ê¸°ë³¸ê°’ Ã— ë„¤íŠ¸ì›Œí¬ë°°ìˆ˜ Ã— ì„±ëŠ¥ë°°ìˆ˜ Ã— ë©”ëª¨ë¦¬ë°°ìˆ˜
```

#### 1. **ê¸°ë³¸ê°’ (Base Count)**
- CPU ì½”ì–´ ìˆ˜ì™€ ê¸°ë³¸ ì œí•œê°’(3) ì¤‘ ì‘ì€ ê°’ ì„ íƒ
- ìµœì†Œ 2ê°œ ë³´ì¥

```swift
let baseCount = max(2, min(processorCount, 3))
```

#### 2. **ë„¤íŠ¸ì›Œí¬ ë°°ìˆ˜ (0.7 ~ 1.5ë°°)**
| ë„¤íŠ¸ì›Œí¬ ìƒíƒœ | ë°°ìˆ˜ | ë¹„ê³  |
|--------------|------|------|
| ì…€ë£°ëŸ¬ (ë°ì´í„° ì œí•œ) | 0.7Ã— | 30% ê°ì†Œ |
| WiFi (ë¬´ì œí•œ) | 1.3Ã— | 30% ì¦ê°€ |
| ê³ ì† (10MB/s+) | 1.5Ã— | 50% ì¦ê°€ |
| ì¤‘ì† (5MB/s+) | 1.2Ã— | 20% ì¦ê°€ |
| ì €ì† (1MB/s-) | 0.8Ã— | 20% ê°ì†Œ |

#### 3. **ê¸°ê¸° ì„±ëŠ¥ ë°°ìˆ˜ (0.7 ~ 1.5ë°°)**
| ê¸°ê¸° ì‚¬ì–‘ | ë°°ìˆ˜ | ì¡°ê±´ |
|----------|------|------|
| ê³ ì„±ëŠ¥ | 1.5Ã— | 8GB+ RAM, 8+ ì½”ì–´ |
| ì¤‘ê¸‰ | 1.2Ã— | 4GB+ RAM, 6+ ì½”ì–´ |
| ì €ì‚¬ì–‘ | 0.7Ã— | 2GB- RAM |
| í‘œì¤€ | 1.0Ã— | ê¸°íƒ€ |

#### 4. **ë©”ëª¨ë¦¬ ì••ë°• ë°°ìˆ˜ (0.5 ~ 1.0ë°°)**
| ë©”ëª¨ë¦¬ ìƒíƒœ | ë°°ìˆ˜ | ì„¤ëª… |
|-------------|------|------|
| ì •ìƒ | 1.0Ã— | ì¶©ë¶„í•œ ë©”ëª¨ë¦¬ |
| ê²½ê³  | 0.7Ã— | ë©”ëª¨ë¦¬ ë¶€ì¡± ì§•í›„ |
| ìœ„í—˜ | 0.5Ã— | ì‹¬ê°í•œ ë©”ëª¨ë¦¬ ì••ë°• |

### ì‹¤ì œ ê³„ì‚° ì˜ˆì‹œ

#### ê³ ì„±ëŠ¥ ê¸°ê¸° (iPhone 15 Pro)
- ê¸°ë³¸ê°’: `min(8, 3) = 3`
- ë„¤íŠ¸ì›Œí¬: WiFi ê³ ì† â†’ `1.3`
- ì„±ëŠ¥: 8GB + 8ì½”ì–´ â†’ `1.5`
- ë©”ëª¨ë¦¬: ì •ìƒ â†’ `1.0`
- **ê²°ê³¼**: `3 Ã— 1.3 Ã— 1.5 Ã— 1.0 = 5.85` â†’ **6ê°œ**

#### ì¤‘ê¸‰ ê¸°ê¸° (iPhone 13)
- ê¸°ë³¸ê°’: `min(6, 3) = 3`
- ë„¤íŠ¸ì›Œí¬: WiFi ë³´í†µ â†’ `1.0`
- ì„±ëŠ¥: 4GB + 6ì½”ì–´ â†’ `1.2`
- ë©”ëª¨ë¦¬: ì •ìƒ â†’ `1.0`
- **ê²°ê³¼**: `3 Ã— 1.0 Ã— 1.2 Ã— 1.0 = 3.6` â†’ **4ê°œ**

#### ì €ì‚¬ì–‘ ê¸°ê¸° (êµ¬í˜• iPhone)
- ê¸°ë³¸ê°’: `min(4, 3) = 3`
- ë„¤íŠ¸ì›Œí¬: ì…€ë£°ëŸ¬ â†’ `0.7`
- ì„±ëŠ¥: 2GB ë¯¸ë§Œ â†’ `0.7`
- ë©”ëª¨ë¦¬: ê²½ê³  â†’ `0.7`
- **ê²°ê³¼**: `3 Ã— 0.7 Ã— 0.7 Ã— 0.7 = 1.03` â†’ **1ê°œ**

### ì•ˆì „ ì¥ì¹˜
- **ìµœì†Œ ë³´ì¥**: 1ê°œ ì´ìƒ
- **ìµœëŒ€ ì œí•œ**: 10ê°œ ì´í•˜
- **ì‹¤ì‹œê°„ ì¡°ì •**: ë„¤íŠ¸ì›Œí¬/ë©”ëª¨ë¦¬ ìƒíƒœ ë³€í™” ì‹œ ë™ì  ì¬ê³„ì‚°

## ë‹¤ìš´ë¡œë“œ ì „ëµ ì˜µì…˜

| ì „ëµ | ìš©ë„ | íŠ¹ì§• |
|------|------|------|
| ğŸ§  ìŠ¤ë§ˆíŠ¸ ë‹¤ìš´ë¡œë“œ | **ê¶Œì¥** | ì‹œìŠ¤í…œ ìë™ ìµœì í™” |
| ğŸš€ ê³ ì„±ëŠ¥ ë‹¤ìš´ë¡œë“œ | ê³ ì‚¬ì–‘ ê¸°ê¸° | ìµœëŒ€ ì„±ëŠ¥ í™œìš© |
| âš¡ ì œí•œì  ë™ì‹œ | ë°°í„°ë¦¬ ì ˆì•½ | ì‚¬ìš©ì ì§€ì • ë™ì‹œì„± |
| ğŸ“± ìˆœì°¨ ë‹¤ìš´ë¡œë“œ | ê·¹ì €ì‚¬ì–‘ | ì•ˆì •ì„± ìš°ì„  |

## ê¸°ìˆ  ìŠ¤íƒ
- Swift 6 / Swift Concurrency (async/await, TaskGroup)
- SwiftUI with @Observable
- RealityKit
- Network Framework (ì‹¤ì‹œê°„ ë„¤íŠ¸ì›Œí¬ ëª¨ë‹ˆí„°ë§)
- Foundation / URLSession (HTTP/2, ë©€í‹°íŒ¨ìŠ¤)
- visionOS (RealityKit, SwiftUI)

## ì‚¬ìš©ë²•

### ê¸°ë³¸ ì‚¬ìš©ë²•
```swift
// AppModelì—ì„œ ë‹¤ìš´ë¡œë“œ ì‹œì‘
let appModel = AppModel()

// 1. ìŠ¤ë§ˆíŠ¸ ë‹¤ìš´ë¡œë“œ (ê¶Œì¥)
appModel.startSmartDownloading()

// 2. ê³ ì„±ëŠ¥ ë‹¤ìš´ë¡œë“œ
appModel.startHighPerformanceDownloading()

// 3. ì»¤ìŠ¤í…€ ë™ì‹œì„±
appModel.downloadAllWithLimit(maxConcurrent: 5)
```

### ìƒí™©ë³„ ê¶Œì¥ ì „ëµ
- **ì¼ë°˜ ì‚¬ìš©**: `startSmartDownloading()` - ì‹œìŠ¤í…œì´ ìë™ìœ¼ë¡œ ìµœì í™”
- **ê³ ì‚¬ì–‘ ê¸°ê¸° + WiFi**: `startHighPerformanceDownloading()` - ìµœëŒ€ ì„±ëŠ¥
- **ë°°í„°ë¦¬ ì ˆì•½**: `startDownloadingSequentiallyViaLimit()` - ìˆœì°¨ ë‹¤ìš´ë¡œë“œ
- **ë„¤íŠ¸ì›Œí¬ ì œí•œ**: `downloadAllWithLimit(maxConcurrent: 2)` - ë‚®ì€ ë™ì‹œì„±

### ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§
```swift
let manager = appModel.usdzDownloadManager

// ì§„í–‰ë¥  í™•ì¸
print("ì§„í–‰ë¥ : \(Int(manager.downloadProgress * 100))%")

// ì„±ëŠ¥ ì •ë³´
print("ê¶Œì¥ ë™ì‹œì„±: \(manager.getRecommendedConcurrentDownloads())ê°œ")
print("í™œì„± ë‹¤ìš´ë¡œë“œ: \(manager.currentActiveDownloads)ê°œ")

// í†µê³„ ì •ë³´
let stats = manager.getDownloadStatistics()
print("ì„±ê³µë¥ : \(String(format: "%.1f", stats.successRate))%")
print("í‰ê·  ì†ë„: \(stats.averageSpeedFormatted)")
```

## í´ë” êµ¬ì¡°(í•µì‹¬)
- `USDZDownloadManager.swift`: ë‹¤ìš´ë¡œë“œ/ë Œë”ë§ ë¡œì§ê³¼ ìƒíƒœ ê´€ë¦¬ì˜ í•µì‹¬ í´ë˜ìŠ¤
- `AppModel.swift`: ì•± ì „ì—­ ìƒíƒœ ê´€ë¦¬ ë° ë‹¤ìš´ë¡œë“œ ì „ëµ ì œê³µ
- `ContentView.swift`: ì‹¤ì‹œê°„ ì§„í–‰ë¥  ë° ì‹œìŠ¤í…œ ì •ë³´ UI
- `NotificationNames.swift`: ë‹¤ìš´ë¡œë“œ ì™„ë£Œ ì•Œë¦¼ ì •ì˜

## ë¹Œë“œ ë° ì‹¤í–‰ ë°©ë²•
1. Xcode 16 ì´ìƒ(í”„ë¡œì íŠ¸ì— ë§ëŠ” ìµœì‹  ë²„ì „)ì„ ì‚¬ìš©í•˜ì„¸ìš”.
2. í”„ë¡œì íŠ¸ë¥¼ ì—´ê³  íƒ€ê²Ÿì„ visionOS ì‹œë®¬ë ˆì´í„°/ê¸°ê¸°ë¡œ ì„¤ì •í•©ë‹ˆë‹¤.
3. ì‹¤í–‰(âŒ˜R)í•˜ì—¬ ì•±ì„ ë¹Œë“œí•˜ê³  ì‹¤í–‰í•©ë‹ˆë‹¤.
4. UIì—ì„œ ì›í•˜ëŠ” ë‹¤ìš´ë¡œë“œ ì „ëµì„ ì„ íƒí•©ë‹ˆë‹¤:
   - **"ğŸ§  ìŠ¤ë§ˆíŠ¸ ë‹¤ìš´ë¡œë“œ"** ë²„íŠ¼ í´ë¦­ (ê¶Œì¥)
   - **"ğŸš€ ê³ ì„±ëŠ¥ ë‹¤ìš´ë¡œë“œ"** ë²„íŠ¼ í´ë¦­
   - ë˜ëŠ” ìŠ¬ë¼ì´ë”ë¡œ ë™ì‹œì„± ì¡°ì • í›„ **"ì œí•œì  ë™ì‹œ ë‹¤ìš´ë¡œë“œ"** í´ë¦­

5. `AppModel`ì˜ `defaultUSDZURLs`ë¥¼ ë³€ê²½í•˜ì—¬ ì›í•˜ëŠ” USDZ URLë¡œ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```swift
// ì˜ˆì‹œ
static let defaultUSDZURLs: [String] = [
    "https://developer.apple.com/augmented-reality/quick-look/models/drummertoy/toy_drummer.usdz",
    "https://developer.apple.com/augmented-reality/quick-look/models/teapot/teapot.usdz"
]
```


## ì£¼ìš” ì½”ë“œ ë™ì‘ ì›ë¦¬

### ğŸ§  ì§€ëŠ¥í˜• ë™ì‹œì„± ê²°ì • ì•Œê³ ë¦¬ì¦˜
```swift
func calculateOptimalConcurrentDownloads() -> Int {
    let processorCount = ProcessInfo.processInfo.processorCount
    let baseCount = max(2, min(processorCount, Self.defaultConcurrentDownloads))
    
    let networkMultiplier = getNetworkSpeedMultiplier()      // 0.7 ~ 1.5
    let performanceMultiplier = getDevicePerformanceMultiplier()  // 0.7 ~ 1.5
    let memoryMultiplier = getMemoryPressureMultiplier()     // 0.5 ~ 1.0
    
    let optimizedCount = Int(Double(baseCount) * networkMultiplier * performanceMultiplier * memoryMultiplier)
    
    return max(1, min(optimizedCount, Self.maxAllowedConcurrentDownloads))
}
```

### ğŸŒ ì‹¤ì‹œê°„ ë„¤íŠ¸ì›Œí¬ ëª¨ë‹ˆí„°ë§
```swift
private func startNetworkMonitoring() {
    networkMonitor.pathUpdateHandler = { [weak self] path in
        Task { @MainActor [weak self] in
            self?.currentNetworkPath = path
            // ë„¤íŠ¸ì›Œí¬ ìƒíƒœ ë³€í™” ì‹œ ë™ì‹œì„± ì¬ê³„ì‚°
        }
    }
    networkMonitor.start(queue: networkQueue)
}
```

### âš¡ ê³ ì„±ëŠ¥ URLSession ìµœì í™”
```swift
let config = URLSessionConfiguration.default
config.httpMaximumConnectionsPerHost = min(10, max(4, ProcessInfo.processInfo.processorCount))
config.timeoutIntervalForRequest = 30.0
config.timeoutIntervalForResource = 300.0

// iOS 15+ ë©€í‹°íŒ¨ìŠ¤ ë„¤íŠ¸ì›Œí‚¹
if #available(iOS 15.0, *) {
    config.multipathServiceType = .handover
}
```

### URL ìˆ˜ì§‘ ë° ìƒíƒœ ì´ˆê¸°í™”
* USDZDownloadManagerëŠ” ì´ˆê¸°í™” ì‹œ ì „ë‹¬ëœ URL ë°°ì—´ì„ ë‚´ë¶€ ìƒíƒœì— ë“±ë¡í•˜ê³ , ê° í•­ëª©ì— ëŒ€í•´ ì§„í–‰ë¥ /ì‹œê°„ ì¸¡ì •ìš© ë©”íƒ€ë°ì´í„°ë¥¼ ì¤€ë¹„í•©ë‹ˆë‹¤.
* íŒŒì¼ë³„ë¡œ ë‹¤ìš´ë¡œë“œ ì‹œì‘/ì¢…ë£Œ, ë Œë”(ì—”í‹°í‹° ë¡œë“œ) ì‹œì‘/ì¢…ë£Œ íƒ€ì„ìŠ¤íƒ¬í”„ë¥¼ ê¸°ë¡í•  ìˆ˜ ìˆëŠ” êµ¬ì¡°ë¥¼ ê°–ì¶¥ë‹ˆë‹¤.

### ğŸ”„ TaskGroupì„ í™œìš©í•œ ë™ì‹œì„± ì œì–´
* Swift Concurrencyì˜ `withTaskGroup`ì„ ì‚¬ìš©í•´ ì—¬ëŸ¬ USDZ íŒŒì¼ì„ ë³‘ë ¬ë¡œ ë‚´ë ¤ë°›ìŠµë‹ˆë‹¤.
* ë™ì‹œì„± ì œí•œì´ í•„ìš”í•˜ë©´ TaskGroup ë‚´ë¶€ì—ì„œ ì‹¤í–‰ ê°œìˆ˜ë¥¼ ë™ì ìœ¼ë¡œ ì œì–´í•©ë‹ˆë‹¤.

```swift
await withTaskGroup(of: Void.self) { taskGroup in
    var currentIndex = 0
    
    // ì´ˆê¸° ì‘ì—…ë“¤ì„ ì‹œì‘ (ìµœëŒ€ ë™ì‹œ ë‹¤ìš´ë¡œë“œ ìˆ˜ë§Œí¼)
    for _ in 0..<min(maxConcurrentDownloads, indices.count) {
        if currentIndex < indices.count {
            let index = indices[currentIndex]
            taskGroup.addTask {
                await self.downloadFile(at: index)
            }
            currentIndex += 1
        }
    }
    
    // ì‘ì—…ì´ ì™„ë£Œë  ë•Œë§ˆë‹¤ ìƒˆë¡œìš´ ì‘ì—… ì¶”ê°€
    while let _ = await taskGroup.next() {
        if currentIndex < indices.count {
            let index = indices[currentIndex]
            taskGroup.addTask {
                await self.downloadFile(at: index)
            }
            currentIndex += 1
        }
    }
}
```

### â±ï¸ ì •ë°€í•œ ì„±ëŠ¥ ì¸¡ì •
* ë‹¤ìš´ë¡œë“œì™€ ë Œë”ë§ì„ ê°ê° ë³„ë„ë¡œ ì¸¡ì •í•˜ì—¬ ì •í™•í•œ ì„±ëŠ¥ ë¶„ì„ì„ ì œê³µí•©ë‹ˆë‹¤.
* ì‹¤ì‹œê°„ ë‹¤ìš´ë¡œë“œ ì†ë„ ì¶”ì ìœ¼ë¡œ ë„¤íŠ¸ì›Œí¬ ì„±ëŠ¥ì„ ë™ì ìœ¼ë¡œ ë°˜ì˜í•©ë‹ˆë‹¤.

```swift
let downloadStartTime = Date()
let (data, response) = try await urlSession.data(for: request)
let downloadDuration = Date().timeIntervalSince(downloadStartTime)

files[index].downloadEndTime = Date()
files[index].fileSize = Int64(data.count)

// ë‹¤ìš´ë¡œë“œ ì†ë„ ì—…ë°ì´íŠ¸
self.updateDownloadSpeed(bytes: Int64(data.count), duration: downloadDuration)
```

### ğŸ”„ ì§€ëŠ¥í˜• ì¬ì‹œë„ ë©”ì»¤ë‹ˆì¦˜
```swift
if shouldRetry(error: error) && retryCount < 2 {
    print("âš ï¸ Retrying download for file \(index) (attempt \(retryCount + 1))")
    // ì§€ìˆ˜ ë°±ì˜¤í”„ë¡œ ì¬ì‹œë„ ê°„ê²© ì¦ê°€
    try? await Task.sleep(nanoseconds: UInt64(pow(2.0, Double(retryCount)) * 1_000_000_000))
    await downloadFile(at: index, retryCount: retryCount + 1)
}
```

### ğŸ­ RealityKit ì—”í‹°í‹° ë¡œë“œ ìµœì í™”
* ë‹¤ìš´ë¡œë“œ ì™„ë£Œ í›„ ì„ì‹œ íŒŒì¼ë¡œ ì €ì¥í•œ ë’¤, RealityKitì˜ `Entity(contentsOf:)`ë¡œ ë¹„ë™ê¸° ì—”í‹°í‹° ë¡œë“œ
* ë¡œë“œ ì‹œì‘/ì¢…ë£Œ ì‹œê°„ì„ ë³„ë„ë¡œ ê¸°ë¡í•˜ì—¬ ë„¤íŠ¸ì›Œí¬ ì‹œê°„ê³¼ ë Œë” ì¤€ë¹„ ì‹œê°„ì„ êµ¬ë¶„í•©ë‹ˆë‹¤.
* ì„ì‹œ íŒŒì¼ì€ ì—”í‹°í‹° ë¡œë“œ ì™„ë£Œ í›„ ì¦‰ì‹œ ì •ë¦¬í•˜ì—¬ ë©”ëª¨ë¦¬ íš¨ìœ¨ì„±ì„ í™•ë³´í•©ë‹ˆë‹¤.

```swift
// ì„ì‹œ íŒŒì¼ ìƒì„± ë° ì—”í‹°í‹° ë¡œë“œ
let tempURL = FileManager.default.temporaryDirectory.appendingPathComponent("temp_\(index).usdz")
try data.write(to: tempURL)

let entity = try await Entity(contentsOf: tempURL)
files[index].entity = entity
files[index].isRendered = true

// ì¦‰ì‹œ ì •ë¦¬
try? FileManager.default.removeItem(at: tempURL)
```

### ğŸ“Š ì‹¤ì‹œê°„ í†µê³„ ë° ì§„í–‰ë¥  ì¶”ì 
* ê° íŒŒì¼ì˜ ì´ë²¤íŠ¸ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ì§‘ê³„í•˜ì—¬ ë°°ì¹˜ ì§„í–‰ë¥ ê³¼ ì´ ì†Œìš” ì‹œê°„ì„ ê³„ì‚°í•©ë‹ˆë‹¤.
* SwiftUIì˜ `@Observable`ê³¼ ë°”ì¸ë”©í•˜ì—¬ UIì— ì‹¤ì‹œê°„ ë°˜ì˜í•©ë‹ˆë‹¤.

### ì•Œë¦¼(Notification) ë° ìƒíƒœ ë¸Œë¡œë“œìºìŠ¤íŠ¸
* íŒŒì¼ ë‹¨ìœ„/ë°°ì¹˜ ë‹¨ìœ„ ì™„ë£Œ ì‹œ NotificationCenterë¡œ ì•Œë¦¼ì„ ë°œì†¡í•˜ê±°ë‚˜, ì˜µì €ë²„ë¸” ê°ì²´ì˜ ìƒíƒœ ë³€í™”ë¥¼ í†µí•´ êµ¬ë…ìì—ê²Œ ì „ë‹¬í•©ë‹ˆë‹¤.

### visionOS ë° ì„±ëŠ¥ ê³ ë ¤ ì‚¬í•­
* RealityKit ì—”í‹°í‹° ë¡œë“œëŠ” iOS/visionOS ëª¨ë‘ ë™ì¼ íŒ¨í„´ìœ¼ë¡œ ë™ì‘í•©ë‹ˆë‹¤.
* ì‹œë®¬ë ˆì´í„°ì™€ ì‹¤ì œ ê¸°ê¸° ê°„ ë Œë” ì¤€ë¹„ ì‹œê°„ ì°¨ì´ê°€ ìˆì„ ìˆ˜ ìˆìœ¼ë¯€ë¡œ, í° USDZ íŒŒì¼ì€ ìŠ¤ë§ˆíŠ¸ ë™ì‹œì„± ì œì–´ë¥¼ í†µí•´ ìµœì í™”ë©ë‹ˆë‹¤.
* ì‹¤ì‹œê°„ ì‹œìŠ¤í…œ ëª¨ë‹ˆí„°ë§ìœ¼ë¡œ ë©”ëª¨ë¦¬ ì••ë°•ì´ë‚˜ ë„¤íŠ¸ì›Œí¬ ìƒíƒœ ë³€í™”ì— ë™ì ìœ¼ë¡œ ëŒ€ì‘í•©ë‹ˆë‹¤.

## ğŸ¯ ì„±ëŠ¥ ë²¤ì¹˜ë§ˆí¬

### ì˜ˆìƒ ì„±ëŠ¥ (WiFi í™˜ê²½)
| ê¸°ê¸° ì‚¬ì–‘ | ê¶Œì¥ ë™ì‹œì„± | ì˜ˆìƒ ì†Œìš” ì‹œê°„ | íŠ¹ì§• |
|----------|-------------|---------------|------|
| ê³ ì„±ëŠ¥ (iPhone 15 Pro) | 6-8ê°œ | 10-15ì´ˆ | ìµœì  ì„±ëŠ¥ |
| ì¤‘ê¸‰ (iPhone 13) | 4-5ê°œ | 15-25ì´ˆ | ê· í˜• ì¡íŒ ì„±ëŠ¥ |
| ì €ì‚¬ì–‘ (êµ¬í˜• iPhone) | 1-2ê°œ | 30-45ì´ˆ | ì•ˆì •ì„± ìš°ì„  |

### ë„¤íŠ¸ì›Œí¬ë³„ ìµœì í™”
- **WiFi 6**: ìµœëŒ€ ë™ì‹œì„± í™œìš©
- **WiFi 5**: ì¤‘ê°„ ìˆ˜ì¤€ ë™ì‹œì„±
- **ì…€ë£°ëŸ¬**: ë°ì´í„° ì ˆì•½ ëª¨ë“œ ìë™ ì ìš©


https://github.com/user-attachments/assets/04a59755-f353-4481-a162-7563c77333c6


